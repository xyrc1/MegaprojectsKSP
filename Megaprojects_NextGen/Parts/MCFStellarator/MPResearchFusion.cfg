// Magnetic Confinement Fusion Reactor Stellarator
// Yes, this is taken straight from KSPIE
PART
{
	// General parameters
	name = MPResearchFusion
	module = Part
	author = Eleusis La Arwall, xyrc

	// Asset parameters
	mesh = model.mu
	scale = 1
	rescaleFactor = 1.5

	// Node definitions - Position X, Position Y, Position Z, Up X, Up Y, Up Z
	node_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 2

	// Editor parameters
	TechRequired = advScienceTech
	entryCost = 2000000
	cost = 500000
	category = Science
	subcategory = 0

	title = Research Stellerator Fusion Reactor	
	manufacturer = 	Advanced Engineering
	description = (temp desc) Bombard RareMetals with Xenon to create Karmskadium
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	// Standard part parameters
	mass = 26 // 28, guess we cut down 2t of power generating crap
	buoyancy = 0.5							// Water fill half of spaces
	fuelCrossFeed = True

	// Drag
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2

	breakingForce = 300
	breakingTorque = 300

	// Damage and Temperature
	crashTolerance = 7
	maxTemp = 2000

	RESOURCE
	{
		name = Karmskadium
		amount = 0
		maxAmount = 100 // 2.7t
	}

	RESOURCE
	{
		name = XenonGas
		amount = 20000
		maxAmount = 20000
	}

	RESOURCE
	{
		name = RareMetals
		amount = 1000
		maxAmount = 1000
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 50000
		maxAmount = 50000
	}
// Karmskadium is based off of Darmstadtium, superheavy element 110.
// In real life, Darmstadtium was created by bombarding lead with nickel
// But, in gameplay, RareMetals + Xenon would kinda make more sense
	MODULE
	{
		 name = ModuleResourceConverter
		 ConverterName = Karmskadium Fusion
		 StartActionName = Start Fusion [Ks]
		 StopActionName = Stop Fusion [Ks]
		AutoShutdown = true
		TemperatureModifier
		{
			key = 0 100000
			key = 750 50000
			key = 1000 10000
			key = 1250 500	
			key = 2000 50	
			key = 4000 0
		}				
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 0.1 0 0
			key = 1000 1.0 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
		}


		UseSpecialistBonus = false
		UseSpecialistHeatBonus = false
		EfficiencyBonus = 1
		resourceOutputName = Karmskadium Fusion

		// Lots of RareMetals are lost in the processing that don't go into Ks
		// 10kg RareMetals per 2.7kg Karmskadium (3.703:1)
		// 1.28u RareMetals per 0.1u Ks
		// Divide that by 5 for throughput
		// 0.256u RareMetals per 0.02u Ks
		// Just add 0.75u Xe cause sure
		 INPUT_RESOURCE // 0.1kg/unit
		 {
			ResourceName = Xenon
			Ratio = 0.75
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE // 7.8kg/unit
		 {
			ResourceName = RareMetals
			Ratio = 0.256
			FlowMode = STAGE_PRIORITY_FLOW
  		 }
		 INPUT_RESOURCE // 0
		 {
			ResourceName = ElectricCharge
			Ratio = 250
		 }
		 OUTPUT_RESOURCE // 27kg/unit
		 {
			ResourceName = Karmskadium
			Ratio = 0.02
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		 }
	}

}
